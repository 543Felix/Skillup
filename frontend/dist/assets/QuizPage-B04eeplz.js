import{u as P,r as s,j as e,F as p,f as Q,B as y,A as R,Y as B,K as W,a0 as Y}from"./index-DLwwp0ZK.js";const U=({jobId:a,hideProposalPage:b,score:u,displayJobComponent:r})=>{const m=P(l=>l.developerRegisterData._id),[c,x]=s.useState(""),j=()=>{if(c.length<100){y.error("Ther should be at least 100 characters in the cover leter");return}R.post(`/job/sendProposal/${a}`,{coverLetter:c,developerId:m,score:u}).then(l=>{if(l.data.Data){const{companyId:i,jobTitle:g}=l.data.Data[0];B.emit("notification",{senderId:m,receiverId:i,content:`Applied for ${g}`}),console.log("companyId = ",l.data.Data)}r(),y.success(l.data.message)}).catch(l=>{y.error(l.response.data.message)})};return e.jsx("div",{className:"h-screen w-screen absolute top-0 z-[9999] bottom-0 left-0 flex  justify-center items-center backdrop-blur-md",children:e.jsxs("div",{className:"h-[500px] w-[600px] bg-black border-2 rounded-3xl shadow-custom-black pt-0 p-10 ",children:[e.jsxs("div",{className:"flex justify-between items-center my-4",children:[e.jsx("h1",{className:"text-white text-2xl font-bold my-4",children:"Supmit a proposal"}),e.jsx(p,{className:"text-white h-7",icon:Q,onClick:()=>b(!1)})]}),e.jsxs("div",{className:"flex flex-col border border-violet p-5 rounded-2xl ",children:[e.jsx("h1",{className:"text-white text-lg font-bold",children:"Add Cover Letter"}),e.jsx("textarea",{name:"",id:"",rows:8,className:" my-5 resize-none rounded-md",onChange:l=>x(l.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"text-white bg-violet px-3 py-1 rounded-[5px]",onClick:j,children:"Send proposal"})})]})]})})},H=({startQuiz:a})=>e.jsx("div",{className:"absolute bg-black h-screen w-screen flex justify-center items-center left-0 top-0 bottom-0 z-50",children:e.jsxs("div",{className:" bg-black   backdrop-blur-xl bg-opacity-25 rounded-[20px] border shadow-md shadow-violet h-[32rem]  border-violet mx-5   p-3 font-serif text-white",children:[e.jsx("h1",{className:"flex justify-center underline underline-offset-4 text-[1.5rem]  lg:text-[2.3rem] font-semibold ",children:"Quiz Assessment Instructions and Rules"}),e.jsxs("div",{className:"flex flex-grid items-center px-7 md:max-w-[850px] lg:max-w-[1250px] mt-1 mb-6",children:[e.jsx("img",{src:"../company/quiz.png",className:"lg:mx-8 md:mx-3 sm:h-[150px] md:h-[200px] lg:h-[270px]",alt:"Quiz"}),e.jsxs("div",{className:" p-6",children:[e.jsx("h1",{className:"lg:text-xl md:text-lg font-bold mb-3",children:"Rules :"}),e.jsxs("h2",{className:"sm:text-xs md:text-sm  mb-2",children:[e.jsx("span",{className:"sm:text-sm text-md font-semibold",children:"1. Integrity:"})," Attempt to answer each question honestly. Any attempt to cheat or manipulate the quiz will result in disqualification from the current selection process, and you will be ineligible to apply for the position in the future."]}),e.jsxs("h2",{className:"sm:text-xs md:text-sm  mb-2",children:[e.jsx("span",{className:"sm:text-sm text-base font-semibold",children:"2. Time Allotment:"})," Each question will have a time limit of 30 seconds. Please manage your time effectively to answer each question within the given timeframe."]}),e.jsxs("h2",{className:"sm:text-xs md:text-sm  mb-2",children:[e.jsx("span",{className:"sm:text-sm text-base font-semibold",children:"3. Participation:"})," We encourage you to attempt every question. There are no negative marks for incorrect answers, so feel free to respond to the best of your ability."]}),e.jsxs("h2",{className:"sm:text-xs md:text-sm  mb-2",children:[e.jsx("span",{className:"sm:text-sm text-base font-semibold",children:"4. Interview Process:"})," ","Selected candidates may proceed to the next stage, which involves an interview with our HR team."]})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-10",children:[e.jsx("span",{className:"sm:text-lg text-xl font-bold font",children:"Click on the button to get started"}),e.jsx("button",{className:"bg-violet px-5 py-1 rounded-[7px] font-bold",onClick:()=>a(!0),children:"Start Quiz"})]})]})}),K=({jobId:a,displayJobComponent:b=()=>{}})=>{const u=P(t=>t.developerRegisterData._id),[r,m]=s.useState(0),[c,x]=s.useState(""),[j,l]=s.useState(0),[i,g]=s.useState(0),[h,f]=s.useState(30),[o,L]=s.useState([]),[I,k]=s.useState(!1),[d,S]=s.useState(!1),z=s.useRef(!1),[A,D]=s.useState("0, 100"),[T,E]=s.useState(!1);s.useEffect(()=>{let t=!0;return R.get(`/job/getQuiz/${u}/${a}`).then(n=>{t&&(console.log("quiz questions = ",n.data.Quiz),L(n.data.Quiz.questions),l(n.data.Quiz.passingScore))}).catch(n=>console.error("Error fetching data:",n)),()=>{t=!1}},[u,a]);const _=()=>{const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},M=()=>{const t=document;t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen()};s.useEffect(()=>{const t=()=>{d&&w()},n=N=>{N.preventDefault(),w()},q=N=>N.preventDefault(),F=()=>{!document.fullscreenElement&&d&&!z.current&&w()},C=()=>{window.removeEventListener("blur",t),window.removeEventListener("beforeunload",n),document.removeEventListener("contextmenu",q),document.removeEventListener("fullscreenchange",F)},w=()=>{k(!0),z.current=!0,C()};return d&&(window.addEventListener("blur",t),window.addEventListener("beforeunload",n),document.addEventListener("contextmenu",q),document.addEventListener("fullscreenchange",F)),()=>{C()}},[d]),s.useEffect(()=>{const t=h/30*100;D(`${t}, 100`)},[h]);const v=s.useCallback(()=>{c===o[r].answer&&g(t=>t+1),x(""),r<o.length-1?m(t=>t+1):(S(!1),k(!0),M()),f(30)},[r,o,c]);s.useEffect(()=>{const t=setInterval(()=>{f(n=>n>0?n-1:(clearInterval(t),v(),f(30),n))},1e3);return()=>clearInterval(t)},[r,v]);const O=()=>{f(30),S(!0),_()},$=t=>{x(t)};return I?e.jsx("div",{className:"h-[31.5rem]  flex justify-center items-center  p-5 text-white border-2 border-violet rounded-[28px] shadow-lg shadow-violet",children:e.jsx("div",{className:"h-[200px] flex flex-col w-[300px] space-y-1 justify-center bg-white rounded-[15px] shadow-custom-black items-center text-black",children:i>=j?T?e.jsx(U,{displayJobComponent:b,jobId:a,hideProposalPage:E,score:i}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-green-600 h-14",icon:W}),e.jsx("h2",{className:"text-2xl text-green-600 font-bold",children:"Selected for next round"}),e.jsxs("p",{className:"text-2xl",children:["Your score: ",i,"/",o.length]}),e.jsx("button",{className:"bg-green-600 px-4 py-1 text-white font-semibold rounded-[5px]",onClick:()=>E(!0),children:"Continue"})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-red-500 h-14",icon:Q}),e.jsx("h2",{className:"text-3xl text-red-500 font-semibold",children:"Rejected"}),e.jsxs("p",{className:"text-xl",children:["Your score: ",i,"/",o.length]})]})})}):d?e.jsxs("div",{className:"h-[31.5rem] absolute top-0 left-0 right-0 backdrop-blur-xl z-50 flex flex-col mx-[12rem] my-[100px] p-5 text-white border-2 border-violet rounded-[28px] shadow-md shadow-violet",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"right-6 flex justify-center items-center h-[70px] w-[70px] rounded-full ",children:[h!==0&&e.jsxs("svg",{className:"absolute",width:"70",height:"70",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845
                          a 15.9155 15.9155 0 0 1 0 31.831
                          a 15.9155 15.9155 0 0 1 0 -31.831`,style:{fill:"none",stroke:"transparent",strokeWidth:1,strokeLinecap:"round"}}),e.jsx("path",{strokeDasharray:A,d:`M18 2.0845
                          a 15.9155 15.9155 0 0 1 0 31.831
                          a 15.9155 15.9155 0 0 1 0 -31.831`,style:{fill:"none",stroke:"#7f00ff",strokeWidth:1,strokeLinecap:"round"}})]}),e.jsx("span",{className:"font-mono text-4xl",children:h})]})}),e.jsxs("div",{className:"h-[400px]",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:o[r]?.question}),e.jsx("ul",{children:o[r]?.options.map((t,n)=>e.jsx("li",{className:"py-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:t,checked:c===t,onChange:()=>$(t),className:"form-radio"}),e.jsx("span",{children:t})]})},n))}),e.jsxs("button",{onClick:v,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md",children:["Next ",e.jsx(p,{icon:Y})]})]})]}):e.jsx(H,{startQuiz:O})},G=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{U as P,K as Q,G as a};
