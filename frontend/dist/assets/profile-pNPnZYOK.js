import{r as l,u as N,A as u,j as e,F as f,f as y,a as D,B as d,L as k}from"./index-Do9RfUXn.js";import{P as A,A as C}from"./addSkills-cKNeN_LU.js";const R=({setLoader:n})=>{const[c,r]=l.useState(!1),[p,j]=l.useState({role:"",description:""}),[i,h]=l.useState({role:"",description:""}),[b,g]=l.useState({role:"",description:""}),x=N(s=>s.developerRegisterData._id);l.useEffect(()=>{u.get(`/dev/profile?id=${x}`).then(s=>{if(s.data.data){const{role:t,description:a}=s.data.data;console.log("role and describtion = ",{role:t,description:a}),j({role:t,description:a}),h({role:t,description:a})}})},[x,b]);function m(s){const{name:t,value:a}=s.target;h(o=>({...o,[t]:a}))}const w=s=>{if(s.preventDefault(),i.role.trim().length===0){d.error("Role field cannot be empty");return}else if(i.description.length===0){d.error("Description cannot be empty");return}u.post(`/dev/profileRoleandDescription?id=${x}`,{data:i}).then(t=>{if(r(!1),n(!0),t.data.data){const{role:a,description:o}=t.data.data;console.log("role and description = ",{role:a,description:o}),g(v=>({...v,role:a,description:o})),d.success("role and description updated successfully")}}).catch(t=>{d.error(t.message)}).finally(()=>{n(!1)})};return e.jsxs(e.Fragment,{children:[c&&e.jsx("div",{className:"fixed top-0 left-0 z-30 w-full h-full flex justify-center items-center bg-black bg-opacity-45",children:e.jsxs("div",{className:"h-[350px] w-[550px] bg-[#1F2937] rounded-[25px] justify-center items-center p-5",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(f,{className:"h-6 text-white",icon:y,onClick:()=>r(!1)})}),e.jsxs("div",{className:"px-[100px]",children:[e.jsx("h1",{className:"text-white text-xl font-semibold mb-2",children:"Role"}),e.jsx("input",{type:"text",value:i.role,name:"role",className:"h-[45px] w-[280px] border border-gray-600 bg-transparent placeholder-text-white text-white focus:outline-none px-4 rounded-[12px]",onChange:m,required:!0,pattern:"^[A-Za-z]+(?: [A-Za-z]+)+$",title:"Please enter a valid role consisting of letters and spaces."}),e.jsx("h1",{className:"text-white text-xl font-semibold mt-2 mb-2",children:"Description "}),e.jsx("input",{type:"text",value:i.description,name:"description",className:"h-[45px] w-[280px] border border-gray-600 bg-transparent placeholder-text-white text-white focus:outline-none px-4 rounded-[12px]",onChange:m,required:!0,pattern:"^[A-Za-z0-9,' .?!]+(?: [A-Za-z0-9,' .?!]+)+$",title:"Please use only letters, numbers, spaces, and punctuation marks in the description."}),e.jsx("div",{className:"flex flex-col mt-[50px]  ",children:e.jsx("button",{className:"bg-violet self-end px-4 py-2 rounded-[25px]",onClick:w,children:"Save changes"})})]})]})}),e.jsxs("div",{className:"col-start-2 bg-slate-500 bg-opacity-[15%] max-h-[300px] col-span-3 rounded-[15px] p-7  ml-2 shadow-xl shadow-black",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"text-2xl font-bold  text-white",children:[e.jsx("span",{className:"font-semibold ",children:"Role  :  "}),p.role]}),e.jsx("div",{className:"flex items-end",onClick:()=>r(!0),children:e.jsx("div",{className:"border-2 rounded-full h-7 w-7 text-white border-white flex justify-center items-center",children:e.jsx(f,{className:"flex items-center h-3  w-3",icon:D})})})]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:" text-xl font-semibold",children:" Description : "}),e.jsxs("p",{className:"max-h-[165px] overflow-y-auto",children:[" ",p.description]})]})]})]})},P=({role:n})=>{const[c,r]=l.useState(!1);return e.jsxs(e.Fragment,{children:[c&&e.jsx(k,{}),e.jsxs("div",{className:" h-[890px] w-[900px]  grid grid-rows-3 text-white z-0",children:[e.jsxs("div",{className:"row-start-1  grid grid-cols-4 text-white mb-10",children:[e.jsx(A,{setLoader:r,role:n}),e.jsx(R,{setLoader:r})]}),e.jsx(C,{role:n}),e.jsxs("div",{className:"row-start-3 bg-slate-500 bg-opacity-[15%] shadow-xl shadow-black rounded-[15px] p-7 mt-2",children:[e.jsx("h1",{className:"text-2xl font-bold font-serif",children:"Completed works"}),e.jsx("p",{className:"text-base text-gray-600",children:"No completed works"})]})]})]})};export{P as default};
